<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Usuários</h2>
  <a href="/usuarios/novo" class="btn btn-success">Novo Usuário</a>
</div>
<table class="table table-bordered table-hover table-sm">
  <thead class="table-light">
    <tr>
      <th>Nome</th>
      <th>Matrícula</th>
      <th>Email</th>
      <th>Perfil</th>
      <th>Criado em</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% if (usuarios.length === 0) { %>
      <tr><td colspan="6" class="text-center">Nenhum usuário cadastrado.</td></tr>
    <% } %>
    <% usuarios.forEach(u => { %>
      <tr>
        <td><%= u.nome %></td>
        <td><%= u.matricula %></td>
        <td><%= u.email %></td>
        <td><span class="badge bg-info"><%= u.perfil %></span></td>
        <td><%= u.createdAt ? u.createdAt.toLocaleString('pt-BR') : '' %></td>
        <td>
          <a href="/usuarios/<%= u.id %>" class="btn btn-sm btn-outline-info">Detalhes</a>
          <form action="/usuarios/<%= u.id %>/excluir" method="POST" class="d-inline" onsubmit="return confirm('Excluir este usuário?');">
  <input type="hidden" name="_csrf" value="<%= csrfToken %>">
  <button type="submit" class="btn btn-sm btn-outline-danger">Excluir</button>
</form>
        </td>
      </tr>
    <% }); %>
  </tbody>
</table>
